# Задача

## Модификация таблицы

1. Создайте таблицу `cars` с полями:
   - `id` - целое число, автоинкремент, первичный ключ
   - `name` - строка, 255 символов, не пустое
   - `year` - год, не пустое, по умолчанию 2023
2. Добавьте в таблицу поля:
   - `manufacture_id` - целое число
   - `color` - строка, 255 символов, не пустое
3. Переименуйте поле `manufacture_id` в `brand_id`
4. Удалите поле `color`
5. Переименуйте таблицу в `auto`
6. Удалите таблицу

## Первичный ключ

1. Создайте таблицу `phones` с полями:
   - `id` - целое число, автоинкремент, первичный ключ
   - `name` - строка, 255 символов, не пустое
2. Измените поле `id` так, чтобы убрать с него автоинкремент
3. Удалите первичный ключ
4. Добавьте поле `sku` после поля `id`:
   - `sku` - строка, 255 символов, не пустое, первичный ключ
5. Удалите поле `id`
6. Удалите первичный ключ
7. Добавьте поле `model` после поля `sku`:
   - `model` - строка, 255 символов, не пустое
8. Добавьте составной первичный ключ из полей `sku` и `model`

## Уникальное значение

1. Создайте таблицу `colors` с полями:
   - `id` - целое число, автоинкремент, первичный ключ
   - `name` - строка, 255 символов, не пустое, уникальное
2. Удалите индекс с поля `name`
3. Измените поле `name`, чтобы снова сделать его уникальным

## Внешний ключ

1. Добавьте поле `color_id` в таблицу `phones`:
   - `color_id` - целое число, не пустое, вторичный ключ на поле `id` из таблицы `colors`
2. Удалите внешний ключ
3. Создайте таблицу `paints` с полями:
   - `id` - целое число, автоинкремент, первичный ключ
   - `name` - строка, 255 символов, не пустое
   - `color_id` - целое число, не пустое, вторичный ключ на поле `id` из таблицы `colors`

## Индексы

1. Добавьте индекс на поле `name` таблицы `paints`
2. Удалите индекс с поля `name` таблицы `paints`

## Нормализация

1. Добавьте первичный ключ к таблице `orders`
2. Разделите поле `contacts` на отдельные поля `address` и `phone`
3. Вынесите информацию о пользователях в отдельную таблицу `clients`
4. Вынесите поля относящиеся к товарам в таблицу `order_products`
5. Вынесите информацию о товарах в отдельную таблицу `products`
6. Удалите избыточное поле `total_price`

## Построение структуры

Спроектируйте базу данных для хранения книг в библиотеке. В базе данных должны храниться следующие данные:

- название книги
- автор книги
- год выпуска
- ФИО читателя
- у какого читателя находится книга
- язык книги
- каким читателям выдавалась книга раньше

Добавьте таблицы, ключи, индексы, иные ограничения, которые считаете необходимыми. Типы полей также выбирайте на своё усмотрение.

## Практика

Разработка интерфейса для управления электронной библиотекой.

В интерфейсе необходимо реализовать:

- общий список книг
- CRUD`*` книг
- общий список читателей
- CRUD читателей
- список истории выдачи книг читателям
- форму передачи книги в пользование читателю
- форму возврата книги в библиотеку
- CRUD для других таблиц, если необходимо`**`

`*` CRUD (Create Read Update Delete) - функционал добавления/просмотра/редактирования/удаления объектов одной сущности  
`**` Например для авторов, языков и т.п.

Все поля формы выбираются в соответствии со структурой базы данных.

Предусмотреть:

- скрипт создающий структуру электронной библиотеки
- скрипт заполняющий таблицы тестовыми данными
- связи только между существующими записями
- поведение удаления книг выданных читателям или с историей выдачи
- поведение удаления читателей с книгой на руках или получавших книги
- любые другие проверки для сохранения целостности данных

Дополнительно реализовать:

- пагинацию/поиск/сортировку/фильтрацию в списках
- списки с выборкой:
  - ТОП10 самых популярных книг
  - ТОП10 самых активных читателей
  - ТОП10 самых популярных авторов
  - месяца года с количеством взятых и сданных книг
- на странице просмотра одной книги списки:
  - другие книги этого автора
  - вместе с этой книгой читают ...
- на странице просмотра одного читателя списки:
  - последние прочитанные книги
  - авторы, которых читает пользователь
